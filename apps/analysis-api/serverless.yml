service: analysis-api

frameworkVersion: '3'

provider:
    name: aws
    runtime: nodejs18.x
    region: us-east-1

functions:
    analyze:
        handler: src/handler.analyze
        events:
            - httpApi:
                path: /analyze
                method: post
                cors: true

package:
    individually: true

plugins:
    - serverless-webpack

custom:
    webpack:
        webpackConfig: ./webpack.config.js
        includeModules: true
        packager: 'npm'
    stages:
        - dev
        - prod
